<header class="header" [class.menu-open]="isMenuOpen">
  <!-- Loading bar -->
  <div class="loading-bar" *ngIf="isLoading">
    <div class="loading-progress"></div>
  </div>

  <div class="header-content">
    <!-- Logo -->
    <div class="logo" (click)="goHome()" title="Go to Home">
      <img src="assets/myliga-logo.svg" alt="MyLiga" class="logo-img" />
      <span class="logo-text">My<span class="logo-accent">Liga</span></span>
    </div>

    <!-- Navigation -->
    <nav class="nav" [class.nav-open]="isMenuOpen">
      <a 
        *ngFor="let link of navLinks" 
        [routerLink]="link.path" 
        class="nav-link"
        [class.active]="isActive(link.path)"
        [title]="link.label"
      >
        <span class="nav-icon" [attr.data-icon]="link.icon">
          <ng-container [ngSwitch]="link.icon">
            <svg *ngSwitchCase="'home'" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
              <polyline points="9 22 9 12 15 12 15 22"/>
            </svg>
            <svg *ngSwitchCase="'table'" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
              <line x1="3" y1="9" x2="21" y2="9"/>
              <line x1="3" y1="15" x2="21" y2="15"/>
              <line x1="9" y1="3" x2="9" y2="21"/>
            </svg>
            <svg *ngSwitchCase="'calendar'" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
              <line x1="16" y1="2" x2="16" y2="6"/>
              <line x1="8" y1="2" x2="8" y2="6"/>
              <line x1="3" y1="10" x2="21" y2="10"/>
            </svg>
            <svg *ngSwitchCase="'shield'" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
            </svg>
            <svg *ngSwitchCase="'chart'" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="18" y1="20" x2="18" y2="10"/>
              <line x1="12" y1="20" x2="12" y2="4"/>
              <line x1="6" y1="20" x2="6" y2="14"/>
            </svg>
            <svg *ngSwitchCase="'heart'" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
            </svg>
          </ng-container>
        </span>
        <span class="nav-label">{{ link.label }}</span>
      </a>
    </nav>

    <!-- Theme Toggle -->
    <div class="header-actions">
      <button class="theme-toggle" (click)="toggleTheme()" [title]="currentTheme === 'light' ? 'Switch to dark mode' : 'Switch to light mode'">
        <span class="theme-icon sun" [class.active]="currentTheme === 'light'">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="5"/>
            <line x1="12" y1="1" x2="12" y2="3"/>
            <line x1="12" y1="21" x2="12" y2="23"/>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
            <line x1="1" y1="12" x2="3" y2="12"/>
            <line x1="21" y1="12" x2="23" y2="12"/>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
          </svg>
        </span>
        <span class="toggle-track">
          <span class="toggle-thumb" [class.dark]="currentTheme === 'dark'"></span>
        </span>
        <span class="theme-icon moon" [class.active]="currentTheme === 'dark'">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
          </svg>
        </span>
      </button>

      <!-- Mobile menu button -->
      <button class="menu-toggle" (click)="toggleMenu()" [class.open]="isMenuOpen">
        <span class="menu-bar"></span>
        <span class="menu-bar"></span>
        <span class="menu-bar"></span>
      </button>
    </div>
  </div>
</header>
